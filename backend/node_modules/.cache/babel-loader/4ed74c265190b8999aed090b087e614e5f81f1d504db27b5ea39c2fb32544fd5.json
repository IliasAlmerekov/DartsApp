{"ast":null,"code":"import{BrowserRouter,Route,Routes}from\"react-router-dom\";import{useState}from\"react\";import\"../css/index.css\";import Test from\"../pages/Test\";import Start from\"../pages/Start/Start\";import Game from\"../pages/Game/Game\";import Gamesummary from\"../pages/gamesummary/Gamesummary\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function App(){const[list,setList]=useState([]);const[userList,setUserList]=useState(getUserFromLS());const[deletePlayer,setDeletePlayer]=useState([]);const[winnerList,setWinnerList]=useState([]);const[undoFromSummary,setUndoFromSummary]=useState(false);const[lastHistory,setLastHistory]=useState([]);function getUserFromLS(){if(localStorage.getItem(\"User\")!==null){const playersFromLS=localStorage.getItem(\"User\");const playersFromLocalStorage=!!playersFromLS&&JSON.parse(playersFromLS);return playersFromLocalStorage;}else{localStorage.setItem(\"User\",JSON.stringify([]));return[];}}function addUnselectedUserListToLs(unselectedPlayers){localStorage.setItem(\"UserUnselected\",JSON.stringify(unselectedPlayers));}function deleteUserFromLS(id){const newUserList=[...userList];const userIndex=newUserList.findIndex(User=>User.id===id);newUserList.splice(userIndex,1);setDeletePlayer(newUserList);setUserList(newUserList);}function resetLS(){localStorage.setItem(\"User\",JSON.stringify(deletePlayer));}function addUserToLS(name,id){const newUserList=[...userList];newUserList.push({name,id});setUserList(newUserList);localStorage.setItem(\"User\",JSON.stringify(newUserList));}return/*#__PURE__*/_jsx(\"div\",{className:\"App\",children:/*#__PURE__*/_jsx(BrowserRouter,{children:/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/test\",element:/*#__PURE__*/_jsx(Test,{})}),/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(Start,{list:list,setList:setList,userList:userList,addUserToLS:addUserToLS,deleteUserFromLS:deleteUserFromLS,resetLS:resetLS,addUnselectedUserListToLs:addUnselectedUserListToLs})}),/*#__PURE__*/_jsx(Route,{path:\"/game\",element:/*#__PURE__*/_jsx(Game,{players:list,setWinnerList:setWinnerList,undoFromSummary:undoFromSummary,setUndoFromSummary:setUndoFromSummary,setLastHistory:setLastHistory,lastHistory:lastHistory})}),/*#__PURE__*/_jsx(Route,{path:\"/summary\",element:/*#__PURE__*/_jsx(Gamesummary,{list:winnerList,setUndo:setUndoFromSummary})})]})})});}export default App;","map":{"version":3,"names":["BrowserRouter","Route","Routes","useState","Test","Start","Game","Gamesummary","jsx","_jsx","jsxs","_jsxs","App","list","setList","userList","setUserList","getUserFromLS","deletePlayer","setDeletePlayer","winnerList","setWinnerList","undoFromSummary","setUndoFromSummary","lastHistory","setLastHistory","localStorage","getItem","playersFromLS","playersFromLocalStorage","JSON","parse","setItem","stringify","addUnselectedUserListToLs","unselectedPlayers","deleteUserFromLS","id","newUserList","userIndex","findIndex","User","splice","resetLS","addUserToLS","name","push","className","children","path","element","players","setUndo"],"sources":["C:/Users/ilias.almerekov/Projects/darts/src/app/App.tsx"],"sourcesContent":["import { BrowserRouter, Route, Routes } from \"react-router-dom\";\r\nimport { useState } from \"react\";\r\nimport \"../css/index.css\";\r\nimport Test from \"../pages/Test\";\r\nimport Start, { PlayerProps } from \"../pages/Start/Start\";\r\nimport Game from \"../pages/Game/Game\";\r\nimport Gamesummary from \"../pages/gamesummary/Gamesummary\";\r\n\r\nfunction App() {\r\n  const [list, setList] = useState<PlayerProps[]>([]);\r\n  const [userList, setUserList] = useState(getUserFromLS());\r\n  const [deletePlayer, setDeletePlayer] = useState<BASIC.UserProps[]>([]);\r\n  const [winnerList, setWinnerList] = useState<BASIC.PlayerProps[]>([]);\r\n  const [undoFromSummary, setUndoFromSummary] = useState(false);\r\n  const [lastHistory, setLastHistory] = useState<any[]>([]);\r\n\r\n  function getUserFromLS() {\r\n    if (localStorage.getItem(\"User\") !== null) {\r\n      const playersFromLS = localStorage.getItem(\"User\");\r\n      const playersFromLocalStorage =\r\n        !!playersFromLS && JSON.parse(playersFromLS);\r\n      return playersFromLocalStorage;\r\n    } else {\r\n      localStorage.setItem(\"User\", JSON.stringify([]));\r\n      return [];\r\n    }\r\n  }\r\n\r\n  function addUnselectedUserListToLs(unselectedPlayers: PlayerProps[]) {\r\n    localStorage.setItem(\"UserUnselected\", JSON.stringify(unselectedPlayers));\r\n  }\r\n\r\n  function deleteUserFromLS(id: number) {\r\n    const newUserList = [...userList];\r\n    const userIndex = newUserList.findIndex(\r\n      (User: BASIC.UserProps) => User.id === id\r\n    );\r\n    newUserList.splice(userIndex, 1);\r\n    setDeletePlayer(newUserList);\r\n    setUserList(newUserList);\r\n  }\r\n\r\n  function resetLS() {\r\n    localStorage.setItem(\"User\", JSON.stringify(deletePlayer));\r\n  }\r\n\r\n  function addUserToLS(name: string, id: number) {\r\n    const newUserList = [...userList];\r\n    newUserList.push({ name, id });\r\n    setUserList(newUserList);\r\n    localStorage.setItem(\"User\", JSON.stringify(newUserList));\r\n  }\r\n\r\n  return (\r\n    <div className=\"App\">\r\n      <BrowserRouter>\r\n        <Routes>\r\n          <Route path=\"/test\" element={<Test />} />\r\n          <Route\r\n            path=\"/\"\r\n            element={\r\n              <Start\r\n                list={list}\r\n                setList={setList}\r\n                userList={userList}\r\n                addUserToLS={addUserToLS}\r\n                deleteUserFromLS={deleteUserFromLS}\r\n                resetLS={resetLS}\r\n                addUnselectedUserListToLs={addUnselectedUserListToLs}\r\n              />\r\n            }\r\n          />\r\n          <Route\r\n            path=\"/game\"\r\n            element={\r\n              <Game\r\n                players={list}\r\n                setWinnerList={setWinnerList}\r\n                undoFromSummary={undoFromSummary}\r\n                setUndoFromSummary={setUndoFromSummary}\r\n                setLastHistory={setLastHistory}\r\n                lastHistory={lastHistory}\r\n              />\r\n            }\r\n          />\r\n          <Route\r\n            path=\"/summary\"\r\n            element={\r\n              <Gamesummary list={winnerList} setUndo={setUndoFromSummary} />\r\n            }\r\n          />\r\n        </Routes>\r\n      </BrowserRouter>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}