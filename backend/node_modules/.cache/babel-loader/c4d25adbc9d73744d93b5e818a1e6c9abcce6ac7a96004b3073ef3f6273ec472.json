{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ilias.almerekov\\\\Projects\\\\darts\\\\src\\\\pages\\\\Game\\\\Game.tsx\",\n  _s = $RefreshSig$();\nimport Keyboard from \"../../components/Keyboard/Keyboard\";\nimport \"./game.css\";\nimport Back from \"../../icons/back.svg\";\nimport { Link, useNavigate } from \"react-router-dom\";\nimport { useEffect, useState } from \"react\";\nimport GamePlayerItemList from \"../../components/GamePlayerItem/GamplayerItemList\";\nimport Overlay from \"../../components/Overlay/Overlay\";\nimport Button from \"../../components/Button/Button\";\nimport NumberButton from \"../../components/Keyboard/NumberButton\";\nimport FinishedGamePlayerItemList from \"../../components/GamePlayerItem/FinishedGamePlayerItemList\";\nimport LinkButton from \"../../components/LinkButton/LinkButton\";\nimport Undo from \"../../icons/undo-copy.svg\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction Game({\n  players,\n  setWinnerList,\n  undoFromSummary,\n  setUndoFromSummary,\n  setLastHistory,\n  lastHistory\n}) {\n  _s();\n  var _playerList$playerTur, _playerList$playerTur2, _playerList$playerTur3;\n  const navigate = useNavigate();\n  const [playerScore, setPlayerScore] = useState(301);\n  const [roundsCount, setRoundsCount] = useState(1);\n  const [playerList, setPlayerList] = useState([]);\n  const [throwCount, setThrowCount] = useState(0);\n  const [playerTurn, setPlayerTurn] = useState(0);\n  const [isOverlayOpen, setIsOverlayOpen] = useState(false);\n  const [history, setHistory] = useState([]);\n  const [finishedPlayerList, setFinishedPlayerList] = useState([]);\n  const [undoLastHistory, setUndoLastHistory] = useState(false);\n  const ERROR_SOUND_PATH = \"/sounds/error-sound.mp3\";\n  const THROW_SOUND_PATH = \"/sounds/throw-sound.mp3\";\n  const WIN_SOUND_PATH = \"/sounds/win-sound.mp3\";\n  function initializePlayerList() {\n    const initialPlayerlist = players.map((user, i) => ({\n      id: user.id,\n      name: user.name,\n      score: playerScore,\n      isActive: i === 0 ? true : false,\n      index: i,\n      rounds: [{\n        throw1: undefined,\n        throw2: undefined,\n        throw3: undefined\n      }],\n      isPlaying: true,\n      isBust: false,\n      throwCount: 0\n    }));\n    setPlayerList(initialPlayerlist);\n  }\n  function changeActivePlayer() {\n    const prevPlayerTurnIndex = playerTurn;\n    const newPlayerTurnIndex = playerTurn + 1;\n    const newPlayerList = [...playerList];\n    newPlayerList[prevPlayerTurnIndex].isActive = false;\n    const isEndOfArray = newPlayerTurnIndex > newPlayerList.length - 1;\n    const handleNewIndex = isEndOfArray ? 0 : newPlayerTurnIndex;\n    newPlayerList[handleNewIndex].isBust = false;\n    newPlayerList[handleNewIndex].isActive = true;\n    setPlayerList(newPlayerList);\n    setPlayerTurn(handleNewIndex);\n    setThrowCount(0);\n    if (isEndOfArray) {\n      setRoundsCount(roundsCount + 1);\n      newPlayerList.forEach(player => {\n        return player.rounds.push({\n          throw1: undefined,\n          throw2: undefined,\n          throw3: undefined\n        });\n      });\n    }\n  }\n  function playSound(path) {\n    var audio = new Audio(path);\n    audio.play();\n    if (path === \"/sounds/throw-sound.mp3\") {\n      audio.currentTime = 2.3;\n    } else if (path === \"/sounds/undo-sound.mp3\") {\n      audio.currentTime = 0.2;\n      audio.volume = 0.1;\n    }\n  }\n  function handleThrow(player, currentThrow, currentScoreAchieved) {\n    setHistory([...history, {\n      finishedPlayerList: JSON.parse(JSON.stringify(finishedPlayerList)),\n      playerList: JSON.parse(JSON.stringify(playerList)),\n      playerScore,\n      throwCount,\n      playerTurn,\n      roundsCount\n    }]);\n    const newScore = playerList[playerTurn].score - currentScoreAchieved;\n    const currentPlayerThrows = playerList[playerTurn].rounds[playerList[playerTurn].rounds.length - 1];\n    const throwKey = `throw${currentThrow + 1}`;\n    currentPlayerThrows[throwKey] = currentScoreAchieved;\n    setPlayerScore(newScore);\n    if (currentScoreAchieved > playerList[playerTurn].score) {\n      handleBust(playerScore);\n      playSound(ERROR_SOUND_PATH);\n    } else {\n      const updatedPlayerList = [...playerList];\n      updatedPlayerList[playerTurn].score = newScore;\n      setThrowCount(currentThrow + 1);\n      playSound(THROW_SOUND_PATH);\n    }\n    // wir überprüfen, ob der aktuelle Spieler das Spiel beendet hat\n    if (playerList[playerTurn].score === 0) {\n      if (playerList.length === 2) {\n        handleLastPlayer();\n        return finishedPlayerList;\n      } else if (finishedPlayerList.length < 1) {\n        setIsOverlayOpen(true); //Victory overlay\n        playSound(WIN_SOUND_PATH);\n      } else {\n        handlePlayerFinishTurn();\n        return playerList;\n      }\n      setWinnerList(finishedPlayerList);\n    }\n    const updatedPlayerlist = [...playerList];\n    updatedPlayerlist[playerTurn] = {\n      ...player,\n      throwCount\n    };\n    setPlayerList(updatedPlayerlist);\n  }\n  function handleBust(bustedPlayerScore) {\n    const currentRoundOfPlayer = playerList[playerTurn].rounds[roundsCount - 1];\n    const {\n      throw1: firstThrow,\n      throw2: secondThrow,\n      throw3: thirdThrow\n    } = currentRoundOfPlayer;\n    let oldThrowScore = playerList[playerTurn].score;\n    playerList[playerTurn].isBust = true;\n    if (thirdThrow) {\n      let firstAndSecondThrowScore = 0;\n      if (firstThrow !== undefined && secondThrow !== undefined) {\n        firstAndSecondThrowScore = firstThrow + secondThrow;\n      }\n      oldThrowScore = firstAndSecondThrowScore + bustedPlayerScore;\n    } else if (firstThrow !== undefined && secondThrow !== undefined && secondThrow > playerList[playerTurn].score) {\n      oldThrowScore = firstThrow + bustedPlayerScore;\n    }\n    playerList[playerTurn].score = oldThrowScore;\n    changeActivePlayer();\n  }\n  function handlePlayerFinishTurn() {\n    const updatedPlayerList = [...playerList];\n    updatedPlayerList[playerTurn].isPlaying = false;\n    const finishedPlayers = playerList.filter(player => !player.isPlaying);\n    finishedPlayerList.push(finishedPlayers[0]);\n    const unfinishedPlayers = playerList.filter(player => player.isPlaying);\n    changeActivePlayer();\n    const nextPlayerIndex = playerTurn > unfinishedPlayers.length - 1 ? 0 : playerTurn;\n    unfinishedPlayers[nextPlayerIndex].isActive = true;\n    setPlayerList(unfinishedPlayers);\n    setFinishedPlayerList(finishedPlayerList);\n    setPlayerTurn(playerTurn > unfinishedPlayers.length - 1 ? 0 : playerTurn);\n    setWinnerList(finishedPlayerList);\n  }\n  function handleLastPlayer() {\n    const updatedPlayerList = [...playerList];\n    updatedPlayerList[playerTurn].isPlaying = false;\n    const updatedFinishedPlayerList = [...finishedPlayerList];\n    const lastPlayer = playerList.filter(player => player.score !== 0);\n    const secondlastPlayer = playerList.filter(player => player.score == 0);\n    newList.push(secondlastPlayer[0], lastPlayer[0]);\n    setFinishedPlayerList(newList);\n  }\n  function sortPlayer() {\n    const scoreArray = playerList.map(player => player.score);\n    allPlayersScoreSort(scoreArray);\n    let i = 0;\n    const newList = [...finishedPlayerList];\n    while (i < playerList.length) {\n      playerList.forEach(player => {\n        if (player.score === scoreArray[0]) {\n          scoreArray.splice(0, 1);\n          newList.push(player);\n        }\n      });\n      i += 1;\n    }\n    setFinishedPlayerList(newList);\n  }\n  function allPlayersScoreSort(arr) {\n    for (let i = 0; i < arr.length; i++) {\n      for (let j = 0; j < arr.length - i - 1; j++) {\n        if (arr[j] > arr[j + 1]) {\n          let temp = arr[j];\n          arr[j] = arr[j + 1];\n          arr[j + 1] = temp;\n        }\n      }\n    }\n  }\n  function handleUndo() {\n    if (history.length > 0) {\n      const lastState = history.pop();\n      setFinishedPlayerList(lastState.finishedPlayerList);\n      setPlayerList(lastState.playerList);\n      setPlayerScore(lastState.playerScore);\n      setThrowCount(lastState.throwCount);\n      setPlayerTurn(lastState.playerTurn);\n      setRoundsCount(lastState.roundsCount);\n      setHistory([...history]);\n      playSound(\"/sounds/undo-sound.mp3\");\n    }\n  }\n  useEffect(() => {\n    initializePlayerList();\n  }, []);\n  useEffect(() => {\n    if (throwCount === 3 && !isOverlayOpen) {\n      changeActivePlayer();\n    }\n  }, [throwCount]);\n  useEffect(() => {\n    if (finishedPlayerList.length === players.length) {\n      setWinnerList(finishedPlayerList);\n      setLastHistory(history);\n      navigate(\"/summary\");\n      if (players.length === 2) {\n        playSound(\"/sounds/win-sound.mp3\");\n      }\n    }\n  }, [finishedPlayerList.length, players.length]);\n  useEffect(() => {\n    if (playerTurn === 5) {\n      const player = document.getElementById(\"playerid\");\n      player === null || player === void 0 ? void 0 : player.scrollIntoView({\n        behavior: \"smooth\"\n      });\n    } else if (playerTurn + 1 === playerList.length) {\n      const player = document.getElementById(\"playerid\");\n      player === null || player === void 0 ? void 0 : player.scrollIntoView({\n        behavior: \"smooth\"\n      });\n    } else if (playerTurn === 0) {\n      window.scroll({\n        top: 0,\n        behavior: \"smooth\"\n      });\n    }\n  }, [playerTurn, playerList.length]);\n  useEffect(() => {\n    if (undoFromSummary === true) {\n      setHistory(lastHistory);\n      setUndoFromSummary(false);\n      setUndoLastHistory(true);\n    }\n  }, [undoFromSummary]);\n  useEffect(() => {\n    if (undoLastHistory === true) {\n      handleUndo();\n      setUndoLastHistory(false);\n    }\n  }, [undoLastHistory]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Overlay, {\n      className: \"overlayBox\",\n      isOpen: isOverlayOpen,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"finishGameOverlay\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"overlayHeading\",\n          children: \"Continue Game?\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 316,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(Button, {\n            label: \"Finish\",\n            isLink: true,\n            handleClick: () => sortPlayer(),\n            type: \"secondary\",\n            isInverted: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 318,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            label: \"Continue\",\n            handleClick: () => {\n              handlePlayerFinishTurn();\n              setIsOverlayOpen(!isOverlayOpen);\n            },\n            type: \"primary\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 325,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(LinkButton, {\n            icon: Undo,\n            label: \"Undo Throw\",\n            handleClick: () => {\n              setIsOverlayOpen(!isOverlayOpen);\n              handleUndo();\n            },\n            className: \"undoThrow\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 333,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 317,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 315,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 314,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"gamePageHeader\",\n      children: /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/\",\n        className: \"top\",\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          src: Back,\n          alt: \"\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 347,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 346,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 345,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"gamePlayerItemContainer\",\n      children: [/*#__PURE__*/_jsxDEV(GamePlayerItemList, {\n        userMap: playerList,\n        score: (_playerList$playerTur = playerList[playerTurn]) === null || _playerList$playerTur === void 0 ? void 0 : _playerList$playerTur.score,\n        round: roundsCount,\n        isBust: (_playerList$playerTur2 = playerList[playerTurn]) === null || _playerList$playerTur2 === void 0 ? void 0 : _playerList$playerTur2.isBust,\n        throwCount: (_playerList$playerTur3 = playerList[playerTurn]) === null || _playerList$playerTur3 === void 0 ? void 0 : _playerList$playerTur3.throwCount\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 351,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(FinishedGamePlayerItemList, {\n        userMap: finishedPlayerList\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 358,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 350,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"keyboard-and-undo\",\n      children: [/*#__PURE__*/_jsxDEV(NumberButton, {\n        value: \"Undo\",\n        handleClick: handleUndo\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 361,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Keyboard, {\n        handleClick: value => handleThrow(playerList[playerTurn], throwCount, value),\n        isOverlayOpen: isOverlayOpen\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 362,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 360,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n_s(Game, \"xfaPDBxoGbwQWhMVYEs4vEwHMk8=\", false, function () {\n  return [useNavigate];\n});\n_c = Game;\nexport default Game;\nvar _c;\n$RefreshReg$(_c, \"Game\");","map":{"version":3,"names":["Keyboard","Back","Link","useNavigate","useEffect","useState","GamePlayerItemList","Overlay","Button","NumberButton","FinishedGamePlayerItemList","LinkButton","Undo","jsxDEV","_jsxDEV","Fragment","_Fragment","Game","players","setWinnerList","undoFromSummary","setUndoFromSummary","setLastHistory","lastHistory","_s","_playerList$playerTur","_playerList$playerTur2","_playerList$playerTur3","navigate","playerScore","setPlayerScore","roundsCount","setRoundsCount","playerList","setPlayerList","throwCount","setThrowCount","playerTurn","setPlayerTurn","isOverlayOpen","setIsOverlayOpen","history","setHistory","finishedPlayerList","setFinishedPlayerList","undoLastHistory","setUndoLastHistory","ERROR_SOUND_PATH","THROW_SOUND_PATH","WIN_SOUND_PATH","initializePlayerList","initialPlayerlist","map","user","i","id","name","score","isActive","index","rounds","throw1","undefined","throw2","throw3","isPlaying","isBust","changeActivePlayer","prevPlayerTurnIndex","newPlayerTurnIndex","newPlayerList","isEndOfArray","length","handleNewIndex","forEach","player","push","playSound","path","audio","Audio","play","currentTime","volume","handleThrow","currentThrow","currentScoreAchieved","JSON","parse","stringify","newScore","currentPlayerThrows","throwKey","handleBust","updatedPlayerList","handleLastPlayer","handlePlayerFinishTurn","updatedPlayerlist","bustedPlayerScore","currentRoundOfPlayer","firstThrow","secondThrow","thirdThrow","oldThrowScore","firstAndSecondThrowScore","finishedPlayers","filter","unfinishedPlayers","nextPlayerIndex","updatedFinishedPlayerList","lastPlayer","secondlastPlayer","newList","sortPlayer","scoreArray","allPlayersScoreSort","splice","arr","j","temp","handleUndo","lastState","pop","document","getElementById","scrollIntoView","behavior","window","scroll","top","children","className","isOpen","fileName","_jsxFileName","lineNumber","columnNumber","label","isLink","handleClick","type","isInverted","icon","to","src","alt","userMap","round","value","_c","$RefreshReg$"],"sources":["C:/Users/ilias.almerekov/Projects/darts/src/pages/Game/Game.tsx"],"sourcesContent":["import Keyboard from \"../../components/Keyboard/Keyboard\";\r\nimport \"./game.css\";\r\nimport Back from \"../../icons/back.svg\";\r\nimport { Link, useNavigate } from \"react-router-dom\";\r\nimport { Dispatch, SetStateAction, useEffect, useState } from \"react\";\r\nimport GamePlayerItemList from \"../../components/GamePlayerItem/GamplayerItemList\";\r\nimport Overlay from \"../../components/Overlay/Overlay\";\r\nimport Button from \"../../components/Button/Button\";\r\nimport NumberButton from \"../../components/Keyboard/NumberButton\";\r\nimport FinishedGamePlayerItemList from \"../../components/GamePlayerItem/FinishedGamePlayerItemList\";\r\nimport LinkButton from \"../../components/LinkButton/LinkButton\";\r\nimport Undo from \"../../icons/undo-copy.svg\";\r\nimport { PlayerProps } from \"../Start/Start\";\r\n\r\ntype Props = {\r\n  players: PlayerProps[];\r\n  setWinnerList: Dispatch<SetStateAction<BASIC.PlayerProps[]>>;\r\n  undoFromSummary: boolean;\r\n  setUndoFromSummary: Dispatch<SetStateAction<boolean>>;\r\n  setLastHistory: Dispatch<SetStateAction<any>>;\r\n  lastHistory: any;\r\n};\r\n\r\nfunction Game({\r\n  players,\r\n  setWinnerList,\r\n  undoFromSummary,\r\n  setUndoFromSummary,\r\n  setLastHistory,\r\n  lastHistory,\r\n}: Props) {\r\n  const navigate = useNavigate();\r\n  const [playerScore, setPlayerScore] = useState(301);\r\n  const [roundsCount, setRoundsCount] = useState(1);\r\n  const [playerList, setPlayerList] = useState<BASIC.PlayerProps[]>([]);\r\n  const [throwCount, setThrowCount] = useState(0);\r\n  const [playerTurn, setPlayerTurn] = useState(0);\r\n  const [isOverlayOpen, setIsOverlayOpen] = useState(false);\r\n  const [history, setHistory] = useState<any[]>([]);\r\n  const [finishedPlayerList, setFinishedPlayerList] = useState<\r\n    BASIC.PlayerProps[]\r\n  >([]);\r\n  const [undoLastHistory, setUndoLastHistory] = useState(false);\r\n  const ERROR_SOUND_PATH = \"/sounds/error-sound.mp3\";\r\n  const THROW_SOUND_PATH = \"/sounds/throw-sound.mp3\";\r\n  const WIN_SOUND_PATH = \"/sounds/win-sound.mp3\";\r\n\r\n  function initializePlayerList() {\r\n    const initialPlayerlist: BASIC.PlayerProps[] = players.map(\r\n      (user: BASIC.UserProps, i: number) => ({\r\n        id: user.id,\r\n        name: user.name,\r\n        score: playerScore,\r\n        isActive: i === 0 ? true : false,\r\n        index: i,\r\n        rounds: [{ throw1: undefined, throw2: undefined, throw3: undefined }],\r\n        isPlaying: true,\r\n        isBust: false,\r\n        throwCount: 0,\r\n      })\r\n    );\r\n    setPlayerList(initialPlayerlist);\r\n  }\r\n\r\n  function changeActivePlayer() {\r\n    const prevPlayerTurnIndex = playerTurn;\r\n    const newPlayerTurnIndex = playerTurn + 1;\r\n    const newPlayerList: BASIC.PlayerProps[] = [...playerList];\r\n\r\n    newPlayerList[prevPlayerTurnIndex].isActive = false;\r\n    const isEndOfArray = newPlayerTurnIndex > newPlayerList.length - 1;\r\n    const handleNewIndex = isEndOfArray ? 0 : newPlayerTurnIndex;\r\n    newPlayerList[handleNewIndex].isBust = false;\r\n    newPlayerList[handleNewIndex].isActive = true;\r\n    setPlayerList(newPlayerList);\r\n    setPlayerTurn(handleNewIndex);\r\n    setThrowCount(0);\r\n\r\n    if (isEndOfArray) {\r\n      setRoundsCount(roundsCount + 1);\r\n      newPlayerList.forEach((player) => {\r\n        return player.rounds.push({\r\n          throw1: undefined,\r\n          throw2: undefined,\r\n          throw3: undefined,\r\n        });\r\n      });\r\n    }\r\n  }\r\n\r\n  function playSound(path: string) {\r\n    var audio = new Audio(path);\r\n    audio.play();\r\n    if (path === \"/sounds/throw-sound.mp3\") {\r\n      audio.currentTime = 2.3;\r\n    } else if (path === \"/sounds/undo-sound.mp3\") {\r\n      audio.currentTime = 0.2;\r\n      audio.volume = 0.1;\r\n    }\r\n  }\r\n\r\n  function handleThrow(\r\n    player: BASIC.PlayerProps,\r\n    currentThrow: number,\r\n    currentScoreAchieved: number | any\r\n  ) {\r\n    setHistory([\r\n      ...history,\r\n      {\r\n        finishedPlayerList: JSON.parse(JSON.stringify(finishedPlayerList)),\r\n        playerList: JSON.parse(JSON.stringify(playerList)),\r\n        playerScore,\r\n        throwCount,\r\n        playerTurn,\r\n        roundsCount,\r\n      },\r\n    ]);\r\n\r\n    const newScore = playerList[playerTurn].score - currentScoreAchieved;\r\n    const currentPlayerThrows =\r\n      playerList[playerTurn].rounds[playerList[playerTurn].rounds.length - 1];\r\n    const throwKey = `throw${\r\n      currentThrow + 1\r\n    }` as keyof typeof currentPlayerThrows;\r\n\r\n    currentPlayerThrows[throwKey] = currentScoreAchieved;\r\n    setPlayerScore(newScore);\r\n\r\n    if (currentScoreAchieved > playerList[playerTurn].score) {\r\n      handleBust(playerScore);\r\n      playSound(ERROR_SOUND_PATH);\r\n    } else {\r\n      const updatedPlayerList = [...playerList];\r\n      updatedPlayerList[playerTurn].score = newScore;\r\n      setThrowCount(currentThrow + 1);\r\n      playSound(THROW_SOUND_PATH);\r\n    }\r\n    // wir überprüfen, ob der aktuelle Spieler das Spiel beendet hat\r\n    if (playerList[playerTurn].score === 0) {\r\n      if (playerList.length === 2) {\r\n        handleLastPlayer();\r\n        return finishedPlayerList;\r\n      } else if (finishedPlayerList.length < 1) {\r\n        setIsOverlayOpen(true); //Victory overlay\r\n        playSound(WIN_SOUND_PATH);\r\n      } else {\r\n        handlePlayerFinishTurn();\r\n        return playerList;\r\n      }\r\n      setWinnerList(finishedPlayerList);\r\n    }\r\n    const updatedPlayerlist = [...playerList];\r\n    updatedPlayerlist[playerTurn] = { ...player, throwCount };\r\n    setPlayerList(updatedPlayerlist);\r\n  }\r\n\r\n  function handleBust(bustedPlayerScore: number) {\r\n    const currentRoundOfPlayer = playerList[playerTurn].rounds[roundsCount - 1];\r\n    const {\r\n      throw1: firstThrow,\r\n      throw2: secondThrow,\r\n      throw3: thirdThrow,\r\n    } = currentRoundOfPlayer;\r\n    let oldThrowScore = playerList[playerTurn].score;\r\n    playerList[playerTurn].isBust = true;\r\n\r\n    if (thirdThrow) {\r\n      let firstAndSecondThrowScore = 0;\r\n      if (firstThrow !== undefined && secondThrow !== undefined) {\r\n        firstAndSecondThrowScore = firstThrow + secondThrow;\r\n      }\r\n      oldThrowScore = firstAndSecondThrowScore + bustedPlayerScore;\r\n    } else if (\r\n      firstThrow !== undefined &&\r\n      secondThrow !== undefined &&\r\n      secondThrow > playerList[playerTurn].score\r\n    ) {\r\n      oldThrowScore = firstThrow + bustedPlayerScore;\r\n    }\r\n\r\n    playerList[playerTurn].score = oldThrowScore;\r\n    changeActivePlayer();\r\n  }\r\n\r\n  function handlePlayerFinishTurn() {\r\n    const updatedPlayerList = [...playerList];\r\n    updatedPlayerList[playerTurn].isPlaying = false;\r\n    const finishedPlayers = playerList.filter((player) => !player.isPlaying);\r\n    finishedPlayerList.push(finishedPlayers[0]);\r\n\r\n    const unfinishedPlayers = playerList.filter((player) => player.isPlaying);\r\n    changeActivePlayer();\r\n    const nextPlayerIndex =\r\n      playerTurn > unfinishedPlayers.length - 1 ? 0 : playerTurn;\r\n    unfinishedPlayers[nextPlayerIndex].isActive = true;\r\n    setPlayerList(unfinishedPlayers);\r\n    setFinishedPlayerList(finishedPlayerList);\r\n    setPlayerTurn(playerTurn > unfinishedPlayers.length - 1 ? 0 : playerTurn);\r\n    setWinnerList(finishedPlayerList);\r\n  }\r\n\r\n  function handleLastPlayer() {\r\n    const updatedPlayerList = [...playerList];\r\n    updatedPlayerList[playerTurn].isPlaying = false;\r\n    const updatedFinishedPlayerList = [...finishedPlayerList];\r\n    const lastPlayer = playerList.filter((player) => player.score !== 0);\r\n    const secondlastPlayer = playerList.filter((player) => player.score == 0);\r\n    newList.push(secondlastPlayer[0], lastPlayer[0]);\r\n    setFinishedPlayerList(newList);\r\n  }\r\n\r\n  function sortPlayer() {\r\n    const scoreArray = playerList.map((player) => player.score);\r\n    allPlayersScoreSort(scoreArray);\r\n\r\n    let i = 0;\r\n    const newList = [...finishedPlayerList];\r\n\r\n    while (i < playerList.length) {\r\n      playerList.forEach((player) => {\r\n        if (player.score === scoreArray[0]) {\r\n          scoreArray.splice(0, 1);\r\n          newList.push(player);\r\n        }\r\n      });\r\n      i += 1;\r\n    }\r\n    setFinishedPlayerList(newList);\r\n  }\r\n\r\n  function allPlayersScoreSort(arr: number[]) {\r\n    for (let i = 0; i < arr.length; i++) {\r\n      for (let j = 0; j < arr.length - i - 1; j++) {\r\n        if (arr[j] > arr[j + 1]) {\r\n          let temp = arr[j];\r\n          arr[j] = arr[j + 1];\r\n          arr[j + 1] = temp;\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  function handleUndo() {\r\n    if (history.length > 0) {\r\n      const lastState = history.pop();\r\n      setFinishedPlayerList(lastState.finishedPlayerList);\r\n      setPlayerList(lastState.playerList);\r\n      setPlayerScore(lastState.playerScore);\r\n      setThrowCount(lastState.throwCount);\r\n      setPlayerTurn(lastState.playerTurn);\r\n      setRoundsCount(lastState.roundsCount);\r\n      setHistory([...history]);\r\n      playSound(\"/sounds/undo-sound.mp3\");\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    initializePlayerList();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (throwCount === 3 && !isOverlayOpen) {\r\n      changeActivePlayer();\r\n    }\r\n  }, [throwCount]);\r\n\r\n  useEffect(() => {\r\n    if (finishedPlayerList.length === players.length) {\r\n      setWinnerList(finishedPlayerList);\r\n      setLastHistory(history);\r\n      navigate(\"/summary\");\r\n      if (players.length === 2) {\r\n        playSound(\"/sounds/win-sound.mp3\");\r\n      }\r\n    }\r\n  }, [finishedPlayerList.length, players.length]);\r\n\r\n  useEffect(() => {\r\n    if (playerTurn === 5) {\r\n      const player = document.getElementById(\"playerid\");\r\n      player?.scrollIntoView({\r\n        behavior: \"smooth\",\r\n      });\r\n    } else if (playerTurn + 1 === playerList.length) {\r\n      const player = document.getElementById(\"playerid\");\r\n      player?.scrollIntoView({\r\n        behavior: \"smooth\",\r\n      });\r\n    } else if (playerTurn === 0) {\r\n      window.scroll({\r\n        top: 0,\r\n        behavior: \"smooth\",\r\n      });\r\n    }\r\n  }, [playerTurn, playerList.length]);\r\n\r\n  useEffect(() => {\r\n    if (undoFromSummary === true) {\r\n      setHistory(lastHistory);\r\n      setUndoFromSummary(false);\r\n      setUndoLastHistory(true);\r\n    }\r\n  }, [undoFromSummary]);\r\n\r\n  useEffect(() => {\r\n    if (undoLastHistory === true) {\r\n      handleUndo();\r\n      setUndoLastHistory(false);\r\n    }\r\n  }, [undoLastHistory]);\r\n\r\n  return (\r\n    <>\r\n      <Overlay className=\"overlayBox\" isOpen={isOverlayOpen}>\r\n        <div className=\"finishGameOverlay\">\r\n          <p className=\"overlayHeading\">Continue Game?</p>\r\n          <div>\r\n            <Button\r\n              label=\"Finish\"\r\n              isLink\r\n              handleClick={() => sortPlayer()}\r\n              type=\"secondary\"\r\n              isInverted={true}\r\n            />\r\n            <Button\r\n              label=\"Continue\"\r\n              handleClick={() => {\r\n                handlePlayerFinishTurn();\r\n                setIsOverlayOpen(!isOverlayOpen);\r\n              }}\r\n              type=\"primary\"\r\n            />\r\n            <LinkButton\r\n              icon={Undo}\r\n              label=\"Undo Throw\"\r\n              handleClick={() => {\r\n                setIsOverlayOpen(!isOverlayOpen);\r\n                handleUndo();\r\n              }}\r\n              className=\"undoThrow\"\r\n            />\r\n          </div>\r\n        </div>\r\n      </Overlay>\r\n      <div className=\"gamePageHeader\">\r\n        <Link to=\"/\" className=\"top\">\r\n          <img src={Back} alt=\"\" />\r\n        </Link>\r\n      </div>\r\n      <div className=\"gamePlayerItemContainer\">\r\n        <GamePlayerItemList\r\n          userMap={playerList}\r\n          score={playerList[playerTurn]?.score}\r\n          round={roundsCount}\r\n          isBust={playerList[playerTurn]?.isBust}\r\n          throwCount={playerList[playerTurn]?.throwCount}\r\n        />\r\n        <FinishedGamePlayerItemList userMap={finishedPlayerList} />\r\n      </div>\r\n      <div className=\"keyboard-and-undo\">\r\n        <NumberButton value=\"Undo\" handleClick={handleUndo} />\r\n        <Keyboard\r\n          handleClick={(value) =>\r\n            handleThrow(playerList[playerTurn], throwCount, value)\r\n          }\r\n          isOverlayOpen={isOverlayOpen}\r\n        />\r\n      </div>\r\n    </>\r\n  );\r\n}\r\nexport default Game;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}